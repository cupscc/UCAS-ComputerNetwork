2019K8009907018 王畅路

# 第一次作业

## 1.

请根据从低至高依次写出ISO 制定的OSI 网络体系结构的7 层模型的每一层的名称。



物理层 数据链路层 网络层 传输层 会话层 表示层 应用层

## 2.

计算机网络体系结构是层次化的细腰结构，请回答以下两个问题：
（1）细腰结构有什么好处？

​	 为上层应用和下层的网络结构提供了统一的接口，使得网络的可拓展性更好。

（2）如何理解 IP 协议是网络体系结构的细腰？

IP的承载和被承载功能可形象描述为：everything over IP over everything

“everything over IP”中的everything=任意通信介质、任意电气特性、任意通信接口、任意CPU、任意主板、任意操作系统、任意应用软件=任意硬件系统+任意软件系统=任意物。

“IP over everything”中的everything=任意通信介质、任意电气特性、任意通信接口、任意CPU、任意主板、任意操作系统、任意协议软件=任意硬件系统+任意协议系统=任意网。



## 3.

计算机网络中的时延分为哪几种？每种的意义是？

- 发送时延：从第一个字节数据从节点发送到链路上的时刻开始到最后一个字节数据发送成功的时间
- 传播时延：数据在链路上传送的时间
- 处理时延：发送端和接受端处理数据的时间
- 排队时延：数据等待处理的时间

## 4.

数据长度为10^6 bit，数据发送速率为100kb/s，收发两端之间的传输距离为1000km，信号在媒体上的传播速率为2×10^7 m/s。试计算数据的发送时延和传播时延。



发送时延：10^6 bit/100kb/s = 10s

传播时延：10^6 m/(2*10^7) = 0.05s



## 5.

分别描述电路交换和分组交换的基本原理，并分析说明计算机网络不采用电路交换的原因。

- 电路交换会使用交换机来管理所有的线路资源动态分配线路资源,当要传输信息的时候会首先建立线路,之后再传输数据.
- 分组交换会将数据分成包,当要传输数据的时候,使用交换机决定数据包的路径.

由于网络数据具有较高的突发性.这使得需要提前建立线路获得线路资源的电路交换经常花费时间在连结上,真正的数据传输时间较少.



## 6.

主机甲通过1 个路由器（存储转发方式）与主机乙互联，两段链路的数据传输速率均为10 Mbps，主机甲分别采用报文交换和分组大小为10 kb 的分组交换向主机乙发送1 个大小为7 Mb 的数据。若忽略链路传播延迟、头部开销和分组拆装时间，则两种交换方式完成该数据传输所需的总时间分别为多少？



使用报文交换 节点甲发送需要 7Mb / 10Mbps = 7*1024 *1024 /(10 * 10^6) =   734.0032ms 节点乙接受需要同样时间,所以共需要 734.0032*2 = 1468.0064ms

使用分组交换 共需要发送 7*1024 *1024/ (10 * 1024) = 716.8个包,也就是717个包.一个包发送需要时间为 10kb/ 10Mbps = 0.9765625ms 接受需要同样时间.一个包被乙接受时,另一个包从甲发出,因此需要的时间是(717+1)*0.9765625 = 701.171875ms



## 7.

直连网络是节点之间通过点对点/多路访问链路互联而形成的网络形态。构建直连网络的关键技术包括：信道编码、组帧、错误检测、可靠传输、介质访问控制，请回答以下问题：
（1）分别简要描述上述各项关键技术的目的；

- 信道编码是为了使用数字基道信号来表示二进制码信息.
- 组帧是数据包在链路层的实现,为了标志一个数据帧的起始和开始以及其它信息.
- 错误检验是为了防止数据在传递的时候被干扰出现错误的时候,能够被及时发现避免错误
- 可靠传输是为了防止数据包在传输的时候冲突或者丢失.
- 介质访问控制是是解决当[局域网](https://baike.baidu.com/item/局域网/98626)中共用信道的使用产生竞争时，如何分配信道的使用权问题。

（2）针对每项关键技术，给出1 种典型的解决方案的名称并简要描述其设计原理。

- 信道编码:曼彻斯特编码 码元周期的中间部分存在电平跳变，易于提取时钟 ¨方波周期内，正负电平各一半，不存在直流分量
- 组帧:面向字节的协议 起始标记法 使用特殊字符标志一个帧的开始结尾,使用转义字符解决歧义问题
- 错误检验:循环冗余码 发送方把message左移k位后得到T(X),除C(X)得到余数S(X),S(X)和T(X)异或就是要发送的所有信息P(X),S(X)是冗余码,接收方判断收到的P(X)除C(X)得到的余数是不是0,是0就判断为无错.
- 可靠传输:滑动窗口算法 发送方和接收方都维持一个窗口,发送方发送一个窗口的数据,接收方返回一个接收到的最后一个包的ack,发送方根据这个ack决定窗口的下一次滑动
- 介质访问控制 载波侦听/碰撞检测(CSMA/CD) 发送数据之前进行检测 看信道上有没有其他数据 发送时也进行检测



## 8.

对于带宽为40kHz 的信道，若有4 种不同的物理状态来表示数据，信噪比为30dB。按香农定理，信道的最大传输数据速率是多少？

香农公式:$C=W \log _{2}(1+S / N)$ 

最大传输速率是40*10^3 log_2(1+1000) = 4 *10^5bps



## 9.

采用循环冗余校验技术作为差错检测方案，要发送的数据为 1101011011，CRC 生成多项式
是 P (X) = X^4 + X + 1.
（1）求应添加在数据后面的余数。

​	1110

（2）若数据在传输过程中数据部分的最后两个 1 都变成了 0，问接收端能否发现？

​	出错后的数据是110101100011110 除之后余数为101 接收端可以发现

（3）采用 CRC 检验后，数据链路层的传输是否就变成了可靠的传输？

​	不是可靠传输,可靠传输和数据包的丢失有关,CRC只是差错检验

## 10.

差错检测和可靠传输是数据通信中的关键问题，请回答：

（1）在已经具备差错检基础上，为什么仍需要可靠传输机制？

​	差错检验只能够没有差错地接受包 当包中的内容错误太多 无法检验 会被丢弃 

​	会有弄丢的包

（2）请列举两种典型的差错检测机制

​	CRC

​	checksum 

## 11.

停等算法（stop and wait）和滑动窗口算法（sliding window）是实现可靠传输的典型机制，请回答以下问题：
（1）描述停等算法的基本原理；

​	发出一个包的时候,在一段时间内等待接收方返回ack信息.这段时间内没有收到视为包丢失

（2）分析停等算法在数据传输效率方面存在的问题；

​	每个数据包ack返回的时间不一样,等待时间的设置不能涵盖所有的情况,设大会造成等待时间过长,设小会导致ack返回混乱

（3）描述滑动窗口算法的基本原理，并分析滑动算法能够提升数据传输效率的原因。

​	滑动窗口算法 发送方和接收方都维持一个窗口,发送方发送一个窗口的数据,接收方返回一个接收到的最后一个包的ack,发送方根据这个ack决定窗口的下一次滑动

​	滑动窗口不是对每一个包都设置一对frame ack 而是对一个窗口的包,提高了效率

## 12.

假设需要为卫星站的一条1Mbps 的点到点链路设计一个滑动窗口协议，卫星在3×10^4 km 的高度绕地球同步旋转。假设每帧携带1KB 数据，发送窗口大小和接收窗口大小一样（SWS =RWS），请问需要多少比特作为标识数据帧的序号？（光速为3×10^8 m/s）

先算出来RTT (3x10^4x (10 ^3) /(3x10^8))x2 = 0.2s 

算出来时延带宽积 RTT x 1Mbps = 24kB 一个帧的大小是1kB 所以需要24个序号标记发送窗口

因为(maxseqhum+1)/2 > SWS

所以maxseqnum = 47  log_2(47)=6

所以需要6个bit 

## 13.

共有4 个节点进行码分多址CDMA 通信。假设4 个节点的码片序列分别为 ：

A（－1＋1－1－1－1－1＋1－1），

B（－1－1－1＋1＋1－1＋1＋1），

C（－1－1＋1－1＋1＋1＋1－1），

D（－1＋1－1＋1＋1＋1－1－1）。现收到这样的码片序列

S （－1＋1－3＋3＋1－1－1＋1），请问节点A、B、C、D 发送数据的情况？



- A = A*S = 1+1+3-3-1+1-1-1=     0
- B = B*S = (1-1+3+3+1+1-1+1)/8= 1
- C = C*S = (1-1-3-3+1-1-1-1)/8= -1
- D = D*S = (1+1+3+3+1-1+1-1)/8= 1

## 14.

假定1km长的CSMA/CD网络的链路带宽为1Gb/s，设信号在链路上的传播速率是200000km/s，请问能够使用此协议的最短帧长为多少？



计算RTT 1km / 2x10^5km/s x 2

一个RTT内传送的数据大小就是最短帧长 1Gb/s x RTT = 10000bit



## 15.

某局域网采用 CSMA/CD 协议实现介质访问控制， 数据传输速率为 5Mbps，主机甲和乙之间的距离为 4KM，信号传播速度是 400000KM/S.请回答下列问题，并给出计算过程：
（1）若主机甲和主机乙发送数据时发生冲突，则从开始发送数据时刻起，到两台主机均检测到冲突时刻止，最短需经多长间？最长需经过多长时间？（假设主机甲和主机乙发送数据过程中，其他主机不发送数据）



4KM / 400000KM/S = 10us

最短时间：如果甲乙同时发送，那么将会在一个传输时延中检测到错误，也就是10us

最长时间：如果甲先发包，在达到乙的瞬间，乙也发包，此时乙会检测到错误，那么经过10us后，甲也会检测到错误，总共时间是20us

（2）若网络不存在任何冲突与差错，主机甲总是以标准的最长以太网数据帧（1518 字节）向主机乙发送数据，主机乙每成功收到一个帧后，立即发送下一个数据帧，此时主机甲的有效数据传输速率是多少？（不考虑以太网帧的前导码）



1518/5Mbps = 2428.8us，此时忽略传输时延，只考虑发送时延

如果不考虑以太网的前导码，也就是需要减去18字节，有效数据为1500B

1500*8/2428.8us 约为 4.94Mbps

## 16.

直连网络、交换网络、互联网络是三种不同的网络形态，请回答以下问题：
（1）描述三种网络形态的基本组网形式及所采用的典型网络设备；

- ​	直连网络：直连网络是广播类型 基本组网形式是以太网      集线器

- ​	交换网络：交换网络是单播类型 基本组网形式是虚拟局域网   网桥，二层交换机

- ​	互联网络：连接异构网络      互联网                  路由


（2）分析直连网络发展到交换网络、以及交换网络发展到互联网络的原因。

直连网络属于广播网络，效率较低，由于数据具有突发性，交换网络更加适合。

为了各个异构网络之间的交流，出现了互联网络。

## 17.

集线器、网桥、路由器、网关是计算机网络中常见设备类型，请分别描述这四类设备的作用层次和主要功能。

- 集线器主要用于直连网络，把各个主机直接连接在一起。应用在数据链路层。主要作用是连接同一网络的不同主机。

- 网桥是小型交换机主要用于小型交换网络，一般有两个端口，连接两个直连网，构成更大规模的交换网。作用在数据传输层（MAC层）。主要作用是存储转发。

- 路由器主要用于异构网络连接构成互联网络，主要作用是判断和转发。作用在网络层（ip层）

- 网关用于不同协议之间的转换。作用主要在应用层


18.下图中包含三类网络节点：集线器、交换机、路由器，请回答以下问题：

（1）简述交换机和路由器分别工作于网络体系结构中的哪一层，其基本功能是什么？

- 交换机主要作用于数据链路层，基本功能是存储转发，连接各个小型网络构成交换网络。
- 路由器主要作用于网络层，用来连接异构网络，基本功能是判断和转发。

（2）这个网络中有几个冲突域，几个广播域

3个冲突域，2个广播域